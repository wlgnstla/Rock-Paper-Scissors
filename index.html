<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors Game!</title>
        <link rel ="stylesheet" href = "styles.css" type="text/css">
        <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <h1 style = "text-align: center;" ><a href = "https://youtu.be/dQw4w9WgXcQ">ROCK PAPER SCISSORS GAME</a></h1>
        <p>Click Above to Play the Game!</p>
        <p style = "font-weight:bolder">OR</p>
        <p>Inspect this page and type "game()" on the Console to Play!</p>
        <script>

            function computerPlay()
            {
                let choices = ["Rock", "Paper","Scissors"];
                let computer_response = choices.at(Math.floor(Math.random() * 3));
                
                return computer_response;
            }

            function playRound(playerSelection, computerSelection)
            {
                let computer_choice = computerSelection.toLowerCase()
                let player_choice = playerSelection.toLowerCase();
                let decision_val;
                let result;

                if(player_choice === "rock")
                {
                    if(computer_choice === "rock")
                    {
                        decision_val = 2;
                    }
                    else if(computer_choice === "scissors")
                    {
                        decision_val = 0;
                    }
                    else
                    {
                        decision_val = 1;
                    }
                }

                else if(player_choice === "paper")
                {
                    if(computer_choice === "paper")
                    {
                        decision_val = 2;
                    }
                    else if(computer_choice === "rock")
                    {
                        decision_val = 0;
                    }
                    else
                    {
                        decision_val = 1;
                    }
                }

                else
                {
                   if(computer_choice === "scissors")
                    {
                        decision_val = 2;
                    }
                    else if(computer_choice === "paper")
                    {
                        decision_val = 0;
                    }
                    else
                    {
                        decision_val = 1;
                    } 
                }

                switch(decision_val)
                {
                    case 0:
                        result = "You have won this round! Congratulations."
                        break;
                    
                    case 1:
                        result = "The computer has won this round. Better luck next time."
                        break;
                    
                    case 2:
                        result = "You have tied with the computer."
                        break;
                }

                return result;
            }

            /* USED FOR TESTING 
            -----------------------
            const playerSelection = "rock";
            const computerSelection = computerPlay();
            console.log(playRound(playerSelection, computerSelection));
            -----------------------
            */
            

            function game()
            {
                
                let player_score_count = 0;
                let computer_score_count = 0;
                let num_ties = 0;

                for(let i = 0; i < 5; i++)
                {
                    let player_choice = prompt("Choose your WEAPON");
                    let result = playRound(player_choice, computerPlay());

                    if(result.includes("Congratulations"))
                    {
                        player_score_count++;
                        alert("You won this round!");
                    }
                    else if((result.includes("luck")))
                    {
                        computer_score_count++;
                        alert("The computer has won this round!");
                    }
                    else
                    {
                        num_ties++;
                        alert("You have tied this round.");
                        
                    }
                }
                
                if(player_score_count > computer_score_count)
                {
                    console.log("YOU WON THIS GAME!");
                }
                else if(player_score_count < computer_score_count)
                {
                    console.log("THE COMPUTER HAS WON THIS GAME...");
                }
                else
                {
                    console.log("YOU HAVE TIED WITH THE COMPUTER. TRY AGAIN?");
                }

                console.log(`\nROUND RESULTS\n\nYOU: ${player_score_count}\nCOMPUTER: ${computer_score_count}\nTIE: ${num_ties}`);
            }


        </script>
    </body>
</html>